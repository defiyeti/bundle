"use strict";angular.module("bundle",["ionic","ngCordova"]).run(["$ionicPlatform",function(e){e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}]),angular.module("bundle").config(["$httpProvider","$stateProvider","$urlRouterProvider",function(e,n,r){r.otherwise("/home"),n.state("home",{url:"/home",views:{home:{templateUrl:"views/home.html"}}}).state("help",{url:"/help",controller:"DashboardCtrl",views:{home:{templateUrl:"views/help.html"}}})}]),angular.module("bundle").controller("DashboardCtrl",["$scope","$q","Utils","CordovaService",function(e,n,r,t){var o=r.Task,u=[];e.startScan=function(e){var n=new o(function(){return t.scan()});n.registerCallback("data",function(e){return e}),u.push(n),n.exec()},e.items=function(){return _.map(u,function(e){return e.getCallback("data")})}}]),angular.module("bundle").directive("onFilePick",function(){return{restrict:"A",link:function(e,n,r){var t=e.$eval(r.onFilePick);n.bind("change",t)}}}),angular.module("bundle").factory("CordovaService",["$http","$q",function(e,n){var r={};return document.addEventListener("deviceready",function(){r.scan=function(){var e=n.defer();return cordova.plugins.barcodeScanner.scan(function(n){e.resolve(n)},function(n){e.reject(n)}),e.promise}},!1),r}]),angular.module("bundle").factory("Utils",["$q","$interval",function(e,n){function r(n){var r,t,o=e.defer(),u={},a={};return t={then:function(e,r){if(n.then)return n.then(e);var t=n();if(t&&t.then)return t.then(e);try{return e(t)}catch(o){return r(o)}}},{exec:function(){t.then(function(n){return r=n,e.all(_.map(u,function(e){e(n)}))},function(n){return e.all(_.map(a,function(e){e(n)}))}).then(function(){return o.resolve(r),r})},registerCallback:function(e,n){u[e]=function(){u[e]=n.apply(n,arguments)}},unregisterCallback:function(e){delete u[e]},registerErrorCallback:function(e,n){a[e]=n},unregisterErrorCallback:function(e){delete a[e]},getCallback:function(e){return u[e]},result:function(){return r},promise:o.promise}}function t(e,r,t,o){var u=[],a=[],i=[];n(function(){var n=null;e()&&u.length&&a.length<(t||3)&&(n=u.pop(),n.registerCallback("$skurt:task-complete",function(){a.splice(a.indexOf(n),1),i.push(n)}),n.registerErrorCallback("$skurt:task-retry",function(){a.splice(a.indexOf(n),1),o?u.push(n):i.push(n)}),n.exec(),a.push(n))},r);return{push:function(e){u.push(e)},pop:function(){return u.pop()},forceNext:function(){var e=u.pop();e.registerCallback("$skurt:task-complete",function(){a.splice(a.indexOf(e),1),i.push(e)}),e.registerErrorCallback("$skurt:task-retry",function(){a.splice(a.indexOf(e),1),o?u.push(e):i.push(e)}),e.exec(),a.push(e)}}}return{Task:r,TaskQueue:t}}]);