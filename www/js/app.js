"use strict";angular.module("bundle",["ionic","ngCordova"]).run(["$ionicPlatform",function(e){e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}]),angular.module("bundle").config(["$httpProvider","$stateProvider","$urlRouterProvider",function(e,r,n){n.otherwise("/home"),r.state("home",{url:"/home",views:{home:{templateUrl:"views/home.html"}}}).state("help",{url:"/help",controller:"DashboardCtrl",views:{home:{templateUrl:"views/help.html"}}})}]),angular.module("bundle").controller("DashboardCtrl",["$scope","$q","Utils","CordovaService",function(e,r,n,t){var o=n.Task,u=[];e.startScan=function(){var e=new o(function(){return t.scan()});e.registerCallback("data",function(e){return e}),u.push(e),e.exec()},e.items=function(){return _.map(u,function(e){return console.log(e),e.getCallback("data")})}}]),angular.module("bundle").directive("onFilePick",function(){return{restrict:"A",link:function(e,r,n){var t=e.$eval(n.onFilePick);r.bind("change",t)}}}),angular.module("bundle").factory("CordovaService",["$http","$q","$cordovaBarcodeScanner",function(e,r,n){var t={scan:n.scan};return t}]),angular.module("bundle").factory("Utils",["$q","$interval",function(e,r){function n(r){var n,t,o=e.defer(),u={},a={};return t={then:function(e,n){if(r.then)return r.then(e);var t=r();if(t&&t.then)return t.then(e);try{return e(t)}catch(o){return n(o)}}},{exec:function(){t.then(function(r){return n=r,e.all(_.map(u,function(e){e(r)}))},function(r){return e.all(_.map(a,function(e){e(r)}))}).then(function(){return o.resolve(n),n})},registerCallback:function(e,r){u[e]=function(){u[e]=r.apply(r,arguments)}},unregisterCallback:function(e){delete u[e]},registerErrorCallback:function(e,r){a[e]=r},unregisterErrorCallback:function(e){delete a[e]},getCallback:function(e){return u[e]},result:function(){return n},promise:o.promise}}function t(e,n,t,o){var u=[],a=[],i=[];r(function(){var r=null;e()&&u.length&&a.length<(t||3)&&(r=u.pop(),r.registerCallback("$skurt:task-complete",function(){a.splice(a.indexOf(r),1),i.push(r)}),r.registerErrorCallback("$skurt:task-retry",function(){a.splice(a.indexOf(r),1),o?u.push(r):i.push(r)}),r.exec(),a.push(r))},n);return{push:function(e){u.push(e)},pop:function(){return u.pop()},forceNext:function(){var e=u.pop();e.registerCallback("$skurt:task-complete",function(){a.splice(a.indexOf(e),1),i.push(e)}),e.registerErrorCallback("$skurt:task-retry",function(){a.splice(a.indexOf(e),1),o?u.push(e):i.push(e)}),e.exec(),a.push(e)}}}return{Task:n,TaskQueue:t}}]);